<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Medical Alarm App</title>


 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <meta charset="utf-8">


<link href="bootstrap-3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <link href="css/flat-ui.css" rel="stylesheet">

    <link rel="shortcut icon" href="img/favicon.ico">
    <link rel="stylesheet" type="text/css" href="css/navbottom.css">
    <script src="js/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/flat-ui.min.js"></script>

    <script src="js/application.js"></script>
    <script type="test.js"></script>
</style>
</head> 
<body class="alarmbody">


<h1 class="addillnessheader"><button id="questionbutton" class="glyphicon glyphicon-question-sign" onclick="window.location.href='home.html'"></button><button id="backbutton" class="glyphicon glyphicon-chevron-left" onclick="window.location.href='alarm2.html'"></button> Set An Alarm</h1>
<div id="inputs" class="boxed">
    <br>
   <div class="Timeinput">
    <div id="alarm_list_id">
 <div  class="input-group spinner">
    <input type="text" class="form-control" id="hrs" value="" placeholder="Hours" onchange="checkAndUpdate('hrs')">
    <div id="inputsss" class="input-group-btn-vertical">
      <button id="buttonup" class="btn btn-default glyphicon glyphicon-arrow-up" type="button" onclick="incVal('hrs')"><i class="fa fa-caret-up"></i></button>
      <button id="buttondown" class="btn btn-default glyphicon glyphicon-arrow-down" type="button" onclick="decVal('hrs')"><i class="fa fa-caret-down"></i></button>
    </div>
  </div>
</div>

     <div  class="input-group spinner">
    <input type="text" class="form-control" id="mins" value="" placeholder="Mins" onchange="checkAndUpdate('mins')">
    <div id="inputsss" class="input-group-btn-vertical">
      <button id="buttonup" class="btn btn-default glyphicon glyphicon-arrow-up" type="button" onclick="incVal('mins')"><i class="fa fa-caret-up"></i></button>
      <button id="buttondown" class="btn btn-default glyphicon glyphicon-arrow-down" type="button" onclick="decVal('mins')"><i class="fa fa-caret-down"></i></button>
    </div>
  </div>

<div  class="input-group spinner">
    <input type="text" class="form-control" id="days" value="" placeholder="Days" onchange="checkAndUpdate('days')">
    <div id="inputsss" class="input-group-btn-vertical">
      <button id="buttonup" class="btn btn-default glyphicon glyphicon-arrow-up" type="button" onclick="incVal('days')"><i class="fa fa-caret-up"></i></button>
      <button id="buttondown" class="btn btn-default glyphicon glyphicon-arrow-down" type="button" onclick="decVal('days')"><i class="fa fa-caret-down"></i></button>
    </div>
  </div>
  <div  id="updates" class="boxed">
    Take your next medicine after <span id="txtHr">00</span> hours and <span id="txtMin">00</span> mins within <span id="txtDay">00</span> days
    
</div>
</div>


 
</div>
</div>

 
          <div id="cont" class="col-lg-6 form-group">
            <div >
                
                <div id="addillnessinputs">
              <input placeholder=" Enter name of Medicine here " id="addmedicine" type="text" class="  form-control" list="mlist"  oninput="miniSearch()"/>
              
              <br><br>
              <datalist id="mlist">
              <div id="med_select">
              <select id="med_id" class=" form-control select-primary mrs mbm" style="display: none;">
                
            </select>
            
                </div>
                </datalist>

              </div>
            <div id="alarmbuttoncont">
                
                <button id="alarmbutton"  class="glyphicon glyphicon-plus btn btn-default"  onclick="addNew()"></button>
                
              </div> 
            </div><!-- /input-group -->
          </div><!-- /.form-group -->
</div>
<img id="iinformativeimage" src="images/iinformative.png">
<br><br>
<br><br><br><br><br><br><br><br>
</div>
<nav class="navbar navbar-default navbar-fixed-bottom">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
       
        <!-- Collection of nav links and other content for toggling -->
        <div class="navdivalarm">
              <ul class="nav navbar-nav">
                              
                 <li><a class="  glyphicon glyphicon-search" style="color:#858585" href="search.html"></a></li>
                <li><a class="glyphicon glyphicon-dashboard" style="color:  #858585" href="home.html"></a>
                <li><a class="glyphicon glyphicon-list-alt" style="color:#858585" href="medicalhistory.html"></a></li>
                <li><a class="  glyphicon glyphicon-home" style="color:#1C4970" href="alarm2.html"></a></li>
            </ul>               
           
        </div>
    </div>
</nav>
</div>

<div class="modal fade" id="add" tabindex="-1" role="dialog" aria-labelledby="add" aria-hidden="true">
      <div class="modal-dialog">
    <div id="popupbox" class="modal-content">
          <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
        <h4 class="modal-title custom_align" id="Heading">SUCCESS!</h4>
      </div>
          <div class="modal-body">
          Alarm for <span id="m_name"></span> added.
      </div>
          <div class="modal-footer ">
        <button id="okaybutton" type="button" class="btn btn-warning btn-lg" style="width: 100%;" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-plus"></span> Add More</button>
        <br><br>
        <button id="okaybutton" type="button" class="btn btn-warning btn-lg" style="width: 100%;" onclick="clickSet()" data-title="Confrim" data-toggle="modal" data-target="#confirm" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-ok-sign"></span> Set</button>
      </div>
        </div>
    <!-- /.modal-content --> 
  </div>
      <!-- /.modal-dialog --> 
    </div>


<div class="modal fade" id="confirm" tabindex="-1" role="dialog" aria-labelledby="confirm" aria-hidden="true">
      <div class="modal-dialog">
    <div id="popupbox" class="modal-content">
          <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
        <h4 class="modal-title custom_align" id="Heading">SUCCESS!</h4>
      </div>
          <div class="modal-body">
          Alarm set!
      </div>
          <div class="modal-footer ">
        <button id="okaybutton" type="button" class="btn btn-warning btn-lg" style="width: 100%;" onclick="window.location.href='home.html'"><span class="glyphicon glyphicon-ok-sign"></span> Okay</button>
      </div>
        </div>
    <!-- /.modal-content --> 
  </div>
      <!-- /.modal-dialog --> 
    </div>

    <div class="modal fade" id="error1" tabindex="-1" role="dialog" aria-labelledby="error1" aria-hidden="true">
      <div class="modal-dialog">
    <div id="popupbox" class="modal-content">
          <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
        <h4 class="modal-title custom_align" id="Heading">ERROR!</h4>
      </div>
          <div class="modal-body">
          Don't put zeroes(0) on both hours and minutes.
      </div>
          <div class="modal-footer ">
        <button id="okaybutton" type="button" class="btn btn-warning btn-lg" style="width: 100%;" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-ok-sign"></span> Okay</button>
      </div>
        </div>
    <!-- /.modal-content --> 
  </div>
      <!-- /.modal-dialog --> 
    </div>

    <div class="modal fade" id="error2" tabindex="-1" role="dialog" aria-labelledby="error2" aria-hidden="true">
      <div class="modal-dialog">
    <div id="popupbox" class="modal-content">
          <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
        <h4 class="modal-title custom_align" id="Heading">ERROR!</h4>
      </div>
          <div class="modal-body">
          You have entered zero(0) on days.<br>Please re-enter proper value for days.
      </div>
          <div class="modal-footer ">
        <button id="okaybutton" type="button" class="btn btn-warning btn-lg" style="width: 100%;" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-ok-sign"></span> Okay</button>
      </div>
        </div>
    <!-- /.modal-content --> 
  </div>
      <!-- /.modal-dialog --> 
    </div>
    
<script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/SQLitePlugin.js"></script>
        <script type="text/javascript" src="js/database_access.js"></script>    
        <script type="text/javascript" src="js/alarm.js"></script>
        <script type="text/javascript">
            document.getElementById("addmedicine")
                .addEventListener("keyup", function(event) {
                event.preventDefault();
                if (event.keyCode === 13) {
                    document.getElementById("addmedicinebutton").click();
                }
            });

            function updateTextHr() {
                var x = document.getElementById("hrs").value;
                document.getElementById("txtHr").innerHTML = x;
            }
            function updateTextMin() {
                var x = document.getElementById("mins").value;
                document.getElementById("txtMin").innerHTML = x;
            }
            function updateTextDay() {
                var x = document.getElementById("days").value;
                document.getElementById("txtDay").innerHTML = x;
            }

            function incVal(inp_id) {
                var val = document.getElementById(inp_id).value * 1;

                
                if(inp_id == "hrs") {
                  if(val<24) {
                    document.getElementById(inp_id).value = val + 1;
                  }
                  else if (val == 24) {
                    document.getElementById(inp_id).value = 0;
                  }
                  updateTextHr();
                }
                
                else if(inp_id == "mins") {
                  if(val<60) {
                    document.getElementById(inp_id).value = val + 1;
                  }
                  else if (val == 60) {
                    document.getElementById(inp_id).value = 0;
                  }
                  updateTextMin();
                }

                else if(inp_id == "days") {
                  if(val<30) {
                    document.getElementById(inp_id).value = val + 1;
                  }
                  else if (val == 30) {
                    document.getElementById(inp_id).value = 0;
                  }
                  updateTextDay();
                }
                
              }
            function decVal(inp_id) {
                var val = document.getElementById(inp_id).value * 1;

                if(val>0) {
                  document.getElementById(inp_id).value = val - 1;
                }
                updateTextHr();
                updateTextMin();
                updateTextDay();
                
              }

            function check(inp_id) {
                var val = document.getElementById(inp_id).value * 1;

                if(inp_id=='hrs') {
                  if(val>24) {
                    document.getElementById(inp_id).value = 24;
                    
                  }
                }
                else if(inp_id=='mins') {
                  if(val>60) {
                    document.getElementById(inp_id).value = 60;
                    
                  }
                }
                else if(inp_id=='days') {
                  if(val>30) {
                    document.getElementById(inp_id).value = 30;
                    
                  }
                }

                if(val<0) {
                  document.getElementById(inp_id).value = 0;

                }
                
            }

            function checkAndUpdate(inp_id) {
                check(inp_id);
                updateTextHr();
                updateTextMin();
                updateTextDay();
            }
            $('button').click(function(event) {
                event.stopPropagation();
            });
        </script>

</body>
</html>                            